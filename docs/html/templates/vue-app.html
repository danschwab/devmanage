<header>
    <nav :class="{ 'open': isMenuOpen }">
        <a href="#"><img src="images/logo.png" alt="Top Shelf Exhibits" /></a>
        
        <span id="navbar">
            <!-- Navigation items when authenticated -->
            <template v-if="isAuthenticated">
                <a v-for="item in navigationItems" 
                   :key="item.file"
                   :class="{ 'active': currentPage === item.file }"
                   @click="navigateToPage(item.file)"
                   href="#">
                    {{ item.title }}
                </a>
            </template>
            
            <!-- Login/Logout button -->
            <button v-if="!isAuthenticated" 
                    @click="login" 
                    class="login-out-button">
                Login
            </button>
            <button v-else 
                    @click="logout" 
                    class="login-out-button">
                Logout ({{ currentUser?.name }})
            </button>
        </span>
        
        <button class="hamburger-menu" @click="toggleMenu">â‰¡</button>
    </nav>
</header>

<div id="app-content">
    <!-- Dynamic containers inserted directly here -->
    <app-container 
        v-for="container in containers" 
        :key="container.id"
        :container-id="container.id"
        :container-type="container.type"
        :title="container.title">
        <template #content>
            <!-- Dynamic content based on container type -->
            <div v-if="container.type === 'welcome'">
                <p>Vue.js integration is working!</p>
                <p>Current page: {{ currentPage }}</p>
                <p>Authentication: {{ isAuthenticated ? 'Authenticated' : 'Not authenticated' }}</p>
                <p>Menu: {{ isMenuOpen ? 'Open' : 'Closed' }}</p>
            </div>
            <div v-else-if="container.type === 'dashboard'">
                <p>Dashboard content will go here</p>
                <p>Welcome, {{ currentUser?.name }}!</p>
            </div>
            <div v-else-if="container.type === 'actions'">
                <p>Quick action buttons will go here</p>
                <button @click="addContainer('dynamic', 'Dynamic Container')">Add Container</button>
            </div>
            <div v-else-if="container.type === 'stats'">
                <p>Statistics and charts will go here</p>
            </div>
            <div v-else-if="container.type === 'dynamic'">
                <p>This is a dynamically added container!</p>
                <button @click="removeContainer(container.id)">Remove This Container</button>
            </div>
            <div v-else-if="container.type === 'test'">
                <p>Interface Testing - API Data Simulation</p>
                <test-table></test-table>
            </div>
            <div v-else>
                <p>{{ container.type }} container content</p>
                <p>Container ID: {{ container.id }}</p>
            </div>
        </template>
    </app-container>
    
    <!-- Fallback message when no containers (shown as comment placeholder) -->
    <!-- No containers loaded when containers array is empty -->
    
    <footer>
        <p>
            &copy; 2024 Top Shelf Exhibits
            <br>
            <a href="https://topshelfexhibits.com">www.topshelfexhibits.com</a>
        </p>
    </footer>
</div>
